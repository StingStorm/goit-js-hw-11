{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchingGallery(userRequest) {\n  const searchParams = new URLSearchParams({\n    key: '44842729-8004d444f82c9829d0058eeb4',\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      const { hits } = data;\n      return hits;\n    });\n}\n","export default function renderGallery(requestedHits, galleryNode) {\n  let markup = '';\n\n  requestedHits.forEach(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      markup += `<li class=\"gallery-item\">\n  <a class=\"gallery-item__link\" href=\"${largeImageURL}\">\n  <img\n  src=\"${webformatURL}\"\n  alt=\"${tags}\"\n  /></a>\n  <ul class=\"image-descr\">\n  <li>\n    <span>Likes</span>\n    <span>${likes}</span>\n  </li>\n  <li>\n    <span>Views</span>\n    <span>${views}</span>\n  </li>\n  <li>\n    <span>Comments</span>\n    <span>${comments}</span>\n  </li>\n  <li>\n    <span>Downloads</span>\n    <span>${downloads}</span>\n  </li>\n</ul>\n</li>`;\n    }\n  );\n\n  galleryNode.innerHTML = markup;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport fetchingGallery from './js/pixabay-api';\nimport renderGallery from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryList = document.querySelector('.gallery');\n\nconst galleryLightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const userRequest = event.target.elements.requestValue.value.trim();\n\n  if (!userRequest) {\n    return;\n  }\n\n  galleryList.innerHTML = '<span class=\"loader\"></span>';\n\n  fetchingGallery(userRequest)\n    .then(processedHits => {\n      if (!processedHits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryList.innerHTML = '';\n\n        return;\n      }\n\n      setTimeout(() => {\n        renderGallery(processedHits, galleryList);\n        galleryLightbox.refresh();\n      }, 1000);\n    })\n    .catch(error => console.error(error));\n\n  searchForm.reset();\n});\n"],"names":["fetchingGallery","userRequest","searchParams","response","data","hits","renderGallery","requestedHits","galleryNode","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","galleryList","galleryLightbox","SimpleLightbox","event","processedHits","iziToast","error"],"mappings":"6vBAAe,SAASA,EAAgBC,EAAa,CACnD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACpD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,KAAM,CAAE,KAAAC,CAAM,EAAGD,EACjB,OAAOC,CACb,CAAK,CACL,CCpBe,SAASC,EAAcC,EAAeC,EAAa,CAChE,IAAIC,EAAS,GAEbF,EAAc,QACZ,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU,CACJP,GAAU;AAAA,wCACwBE,CAAa;AAAA;AAAA,SAE5CD,CAAY;AAAA,SACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAKDC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,YAIRC,CAAS;AAAA;AAAA;AAAA,MAIhB,CACL,EAEER,EAAY,UAAYC,CAC1B,CC9BA,MAAMQ,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAkB,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAW,iBAAiB,SAAUI,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMpB,EAAcoB,EAAM,OAAO,SAAS,aAAa,MAAM,OAExDpB,IAILiB,EAAY,UAAY,+BAExBlB,EAAgBC,CAAW,EACxB,KAAKqB,GAAiB,CACrB,GAAI,CAACA,EAAc,OAAQ,CACzBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDL,EAAY,UAAY,GAExB,MACD,CAED,WAAW,IAAM,CACfZ,EAAcgB,EAAeJ,CAAW,EACxCC,EAAgB,QAAO,CACxB,EAAE,GAAI,CACb,CAAK,EACA,MAAMK,GAAS,QAAQ,MAAMA,CAAK,CAAC,EAEtCP,EAAW,MAAK,EAClB,CAAC"}